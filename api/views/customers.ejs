<%- include('partials/header'); %>

          <!-- Banner -->
          <section id="banner">
            <div class="content">
              <header>
                <h1>Kunden√ºbersicht</h1>
                <p>Lorem Ipsum dolor sit amet</p>
              </header>
            </div>
          </section>

          <input type="button" value="Kunde anlegen" class="primary add-customer" />
          <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Suche nach Kundenummer" />
          <table
            id="myTable"
            class="table table-striped table-bordered table-sm"
            cellspacing="0"
            width="100%"
          >
            <thead class="thead-dark">
              <tr class="header">
                <th class="th-sm">Kundenummer</th>
                <th class="th-sm">Name</th>
                <th class="th-sm">Vorname</th>
                <th class="th-sm">Wohnort</th>
                <th class="th-sm">Kontonummer/n</th>
              </tr>
            </thead>
            <tbody>
							<% customers.forEach(function(customer) { %>
								<tr>
									<td><%= customer.id %></td>
									<td><%= customer.name %></td>
									<td><%= customer.firstname %></td>
									<td><%= customer.city %></td>
									<td><%= customer.accountIds.join(',') %></td>
									<td><a href="/customers/<%=customer.id%>/edit" class="icon fa-edit"></a></td>
								</tr>
							<%}); %>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Sidebar -->
      <%- include('partials/sidebar'); %>
      </div>
    </div>

    <!-- Scripts -->
    <script src="js/jquery.min.js"></script>
    <script src="js/browser.min.js"></script>
    <script src="js/breakpoints.min.js"></script>
    <script src="js/util.js"></script>
    <script src="js/main.js"></script>

    <script>
      function myFunction() {
        // Declare variables
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById('myInput');
        filter = input.value.toUpperCase();
        table = document.getElementById('myTable');
        tr = table.getElementsByTagName('tr');

        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < tr.length; i++) {
          td = tr[i].getElementsByTagName('td')[2];
          if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
              tr[i].style.display = '';
            } else {
              tr[i].style.display = 'none';
            }
          }
        }
      }
    </script>
  </body>
</html>
